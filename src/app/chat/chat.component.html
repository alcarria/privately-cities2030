
<div class="body">
  <div *ngIf="address != ''; else noAddress" class="chat-div">
    <mat-list>
      <p *ngFor="let message of messages">
        <ng-container 
          [ngTemplateOutlet]="message.getSender() == this.store.getCurrentAccountAddressValue() ? SentByMe : SentByOther" 
          [ngTemplateOutletContext]="{message:message}">
        </ng-container>
      </p>
    </mat-list>
  </div>

  <div class="form">
    <form>
      <mat-form-field style="width: 100%;" appearance="fill">
        <mat-label>Message</mat-label>
        <input matInput type="text" #message>
        <button matSuffix mat-icon-button aria-label="Clear">
          <mat-icon>send</mat-icon>
        </button>
      </mat-form-field>
    </form>
  </div>
</div>

<ng-template #noAddress>
  <div class="body">
    Bienvenido
  </div>
</ng-template>

<ng-template #SentByOther let-message='message'>
  <mat-card class="chat-card-other">
    <mat-card-title class="chat-ts">
      {{message.getTimestamp()}}
    </mat-card-title>
    <mat-card-content>
      {{message.getMessage()}}
    </mat-card-content>
  </mat-card>
</ng-template>

<ng-template #SentByMe let-message='message'>
  <mat-card class="chat-card-me">
    <mat-card-title class="chat-ts">
      {{message.getTimestamp()}}
    </mat-card-title>
    <mat-card-content>
      {{message.getMessage()}}
    </mat-card-content>
  </mat-card>
</ng-template>